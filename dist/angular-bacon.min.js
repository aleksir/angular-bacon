(function(){angular.module("angular-bacon",[]).run(["$rootScope","$parse",function(a,b){var c;return c=function(a,b,c,d){var e,f;return e=new Bacon.Bus,a[d](b,function(a){return e.push(a)},c),a.$on("$destroy",e.end),f=a.$eval(b),"undefined"!=typeof f?e.toProperty(f):e.toProperty()},a.$watchAsProperty=function(a,b){return c(this,a,b,"$watch")},a.$watchCollectionAsProperty=function(a,b){return c(this,a,b,"$watchCollection")},a.digestObservables=function(a){var b;return b=this,angular.forEach(a,function(a,c){return a.digest(b,c)})},Bacon.Observable.prototype.digest=function(a,c){var d,e;return d=b(c).assign,e=this.subscribe(function(b){return b.hasValue()?a.$$phase?d(a,b.value()):a.$apply(function(){return d(a,b.value())}):void 0}),a.$on("$destroy",e),this},a.$asEventStream=function(a,b){var c;return c=this,Bacon.fromBinder(function(d){var e;return e=c.$on(a,function(a){var c;return a.args=b?Bacon._.object(b,Array.prototype.slice.call(arguments,1)):Array.prototype.slice.call(arguments,1),c=d(a),c===Bacon.noMore?e():void 0}),c.$on("$destroy",function(){return d(new Bacon.End)}),e})}}])}).call(this);